{
    "script": "Soit $f:[a,b]\\to\\mathbb R$ et soit $\\veps>0$.On suppose que $f$ est en escalier. Montrer qu'il existe $g:[a,b]\\to\\mathbb R$ continue\r\ntelle que $\\int_{a}^b fg\\geq \\int_a^b |f|-\\veps$ et $|g|\\leq 1$.Reprendre la même question si $f$ est continue.",
    "hint": "Définir $g$ sur chaque élément d'une subdivision adaptée à $f$. Choisir $g$ presque égale à $1$ ou $-1$ sur cette subdivision,\r\net raccorder.Approcher $f$ par une fonction en escalier.",
    "solution": "Soit $a_0<\\dots<a_n$ une subdivision adaptée à $f$, ie $f$ est constante sur chaque intervalle $]a_i,a_{i+1}[$.\r\nSoit $\\alpha>0$ très petit (au moins, $2 \\alpha<\\min(a_{i+1}-a_i)$). On définit $g$ de la façon suivante sur chaque intervalle\r\n$[a_i,a_{i+1}]$ :Si $f\\geq 0$ sur $[a_i,a_{i+1}]$, on définit $g$ comme étant égale à $1$ sur $[a_i+\\alpha,a_{i+1}-\\alpha]$, \r\n$g(a_i)=g(a_{i+1})=0$, et $g$ est affine sur chaque intervalle $[a_i,a_{i}+\\alpha]$ et $[a_{i+1}-\\alpha,a_{i+1}]$\r\n(faire un dessin).Si $f< 0$ sur $[a_i,a_{i+1}]$, on définit $g$ comme étant égale à $-1$ sur $[a_i+\\alpha,a_{i+1}-\\alpha]$, \r\n$g(a_i)=g(a_{i+1})=0$, et $g$ est affine sur chaque intervalle $[a_i,a_{i}+\\alpha]$ et $[a_{i+1}-\\alpha,a_{i+1}]$.Alors, on a toujours $fg\\geq 0$, et $fg=|f|$ sur chaque intervalle $[a_i+\\alpha,a_{i+1}-\\alpha]$. Notons\r\n$M=\\|f\\|_\\infty=\\max_{x\\in[a,b]}|f(x)|$. Alors on a\r\n\\begin{eqnarray*}\r\n\\int_a^b fg&\\geq &\\sum_{i=0}^{n-1}\\int_{a_i}^{a_{i+1}}fg\\\\\r\n&\\geq &\\int_{a}^b |f|-\\sum_{i=0}^{n-1}\\left(\\int_{a_i}^{a_i+\\alpha}|f|+\\int_{a_{i+1}-\\alpha}^{a_{i+1}}|f|\r\n\\right)\\\\\r\n&\\geq&\\int_a^b |f|-2nM\\alpha.\r\n\\end{eqnarray*}\r\nSi $\\alpha$ est choisi de sorte que $\\alpha\\leq \\frac{\\veps}{2nM}$, la fonction $g$ convient.Soit $\\delta>0$ et soit $\\varphi$ une fonction en escalier telle que \r\n$f-\\delta\\leq\\varphi\\leq f+\\delta$. Alors, d'après la question précédente, on peut trouver $g$\r\ntelle que \r\n$$\\int_a^b \\varphi g\\geq\\int_a^b |\\varphi|-\\delta.$$\r\nMais, on a alors\r\n\\begin{eqnarray*}\r\n\\int_a^b fg&=&\\int_a^b (f-\\varphi)g+\\int_a^b \\varphi g\\\\\r\n&\\geq&-(b-a)\\delta+\\int_{a}^b |\\varphi|-\\delta\\\\\r\n&\\geq&2(b-a)\\delta-\\delta-\\int_{a}^b |f|.\r\n\\end{eqnarray*}\r\nSi $\\delta$ est choisi assez petit, la fonction $g$ convient.",
    "lang": "french"
}