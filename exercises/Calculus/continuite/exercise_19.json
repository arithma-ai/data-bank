{
    "script": "Soit $f:\\mathbb R\\to\\mathbb R$ une fonction continue telle que \r\n$$\\forall x,y\\in\\mathbb R,\\ f\\left(\\frac{x+y}2\\right)=\\frac{1}{2}\\big(f(x)+f(y)\\big).$$Vérifier que les fonctions affines sont solutions de cette équation.Dans cette question, on cherche à déterminer les fonctions qui sont solutions de l'équation et qui s'annulent en 0 et en 1.Démontrer que, pour tout entier $p\\in\\mathbb N$, on a $f( p)=0$.Démontrer que, pour tout entier $p\\in\\mathbb Z$, on a $f( p)=0$.Démontrer que, pour tout $p\\in\\mathbb Z$ et tout $n\\in\\mathbb N$, on a $f\\left(\\frac p{2^n}\\right)=0$.Soit $x\\in\\mathbb R$. Pour $n\\in\\mathbb N$, on pose $x_n=\\frac{\\lfloor 2^n x\\rfloor}{2^n}$. Démontrer que $(x_n)$ converge vers $x$.En déduire que $f$ est identiquement nulle.Dans le cas général, démontrer que $f$ est une fonction affine.",
    "hint": "Récurrence double!$f$ est impaire!Récurrence!Écrire la définition de la partie entière, et conclure par le théorème des gendarmes.Caractérisation séquentielle de la continuité.On pourra considérer la fonction affine $g$ valant la même valeur que $f$ en $0$ et en $1$.",
    "solution": "Vérification immédiate!Prouvons par récurrence double sur $p\\in \\mathbb N$ que $f( p)=0$ pour tout $p\\in\\mathbb N$. En effet, on a bien $f(0)=f(1)=0$. De plus, si $f(p-2)=f(p-1)=0$, alors en appliquant la propriété avec $x=p-2$ et $y=p$, on a \r\n$$f(p-1)=\\frac 12f(p )+\\frac 12f(p-2),$$\r\nce qui implique $f( p)=0$.Remarquons que $f$ est impaire. En effet, si $x\\in\\mathbb R$ et si on applique la propriété avec $y=-x$, alors $f(x)+f(-x)=0$ ce qui prouve bien que $f$ est impaire. Ainsi, pour tout $p\\in\\mathbb Z$, on a $f( p)=0$.Prouvons maintenant par récurrence sur $n\\in\\mathbb N$ que $f(p/2^n)=0$ pour tout $n\\in\\mathbb N$. C'est vrai pour $n=0$, et si c'est vrai au rang $n$, alors appliquons la propriété avec $x=0$ et $y=p/2^n$. Alors $f\\left(\\frac p{2^{n+1}}\\right)=0$ ce qui prouve que la propriété est vraie au rang $n+1$.On a, par définition de la partie entière, \r\n$$2^n x_n \\leq 2^n x\\leq 2^n x_n+1\\iff x-\\frac{1}{2^n} \\leq x_n \\leq x.$$\r\nPar le théorème des gendarmes, $(x_n)$ converge vers $x$.On a, pour tout entier $n$, $f(x_n)=0$ et de plus $x_n\\to x$. Puisque $f$ est continue, $f(x_n)\\to f(x)$ et donc $f(x)=0$.Soit $g$ la fonction affine telle que $f(0)=g(0)$ et $f(1)=g(1)$ et posons $h=f-g$. Alors $h$ vérifie la propriété et vérifie également que $h(0)=h(1)=0$. On en déduit que $h$ est identiquement nulle, puis que $f=g$ est affine.",
    "lang": "french"
}