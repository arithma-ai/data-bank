{
    "script": "Soient $a,b\\in\\mathbb R$ et soit $f$ la fonction définie sur $\\mathbb R$ par \r\n$$f(x)=\\left\\{\r\n\\begin{array}{ll}\r\n\\frac{\\ln(1+x)-x}{x^2}&\\textrm{si }x>0\\\\\r\nax+b&\\textrm{si }x\\leq 0.\r\n\\end{array}\\right.$$Pour quelle(s) valeur(s) de $a$ et $b$ la fonction $f$ est-elle continue en 0?Dans la copie de l'élève A, on lit en conclusion de la première question : \"$f$ est continue si $a\\in\\mathbb R$ et $b=-1/2$\". Dans la copie de l'élève B, on lit au même endroit : \"il faut que $a\\in\\mathbb R$ et que $b=-1/2$ pour que $f$ soit continue\". Qu'en pensez-vous? Comparez avec votre rédaction.Pour quelle(s) valeur(s) de $a$ et $b$ la fonction $f$ est-elle dérivable en 0?Pour quelle(s) valeur(s) de $a$ et $b$ la fonction $f$ est-elle de classe $C^1$ sur $\\mathbb R$?",
    "hint": "La limite à droite et la limite à gauche doivent coïncider.Calculer le taux d'accroissement.Calculer la limite de la dérivée...",
    "solution": "$f$ est continue en 0 si et seulement si $f$ admet une limite à droite en $0$, une limite à gauche en $0$, et si ces deux limites coïncident. Bien sûr, $\\lim_{x\\to 0^-}f(x)=b$. De plus, pour $x>0$, on a\r\n$$f(x)=\\frac{\\ln(1+x)-x}{x^2}=\\frac{x-x^{2}/2+o(x^2)-x}{x^2}=\\frac{-1}2+o(1)$$\r\ndonc $\\lim_{x\\to 0^+}f(x)=-\\frac 12.$\r\nAinsi, $f$ est continue en $0$ si et seulement si $b=-1/2$ (et $a\\in\\mathbb R$ peut être quelconque).L'élève A formule que la condition \"$b=-1/2$\" est une condition suffisante pour que $f$ soit continue en $0$. L'élève B formule que la condition \"$b=-1/2$ \" est une condition nécessaire pour que $f$ soit continue en 0. Nous avons adopté la bonne formulation, c'est-à-dire que cette condition est nécessaire et suffisante.D'abord, pour que $f$ soit dérivable, il est nécessaire que $f$ soit continue donc que $b=-1/2$. A nouveau, il faut calculer le taux d'accroissement à droite, à gauche, étudier si ces taux d'accroissement ont une limite et si ces limites coïncident. On a d'une part, pour $x<0$, \r\n$$\\frac{f(x)-f(0)}x=a\\to a$$\r\net d'autre part, pour $x>0$, \r\n$$\\frac{f(x)-f(0)}{x}=\\frac{\\ln(1+x)-x+\\frac{x^2}2}{x^3}=\\frac{1}3+o(1)$$\r\nen effectuant un développement limité à l'ordre 3 du logarithme. Les deux limites coïncident si et seulement si $a=\\frac 13$. Donc $f$ est dérivable en $0$ si et seulement si $a=\\frac 13$ et $b=-\\frac 12$.D'abord, si $f$ est $C^1$, alors $f$ est dérivable en $0$ et on a nécessairement $a=1/3$ et $b=-1/2$. On fixe donc ce couple de valeurs pour $a$ et $b$ et on regarde si la fonction ainsi définie est de classe $C^1$. Il suffit de vérifier que $f'$ est continue en $0$. Pour $x<0$, on a $f'(x)=\\frac 13$ qui tend bien, si $x$ tend vers $0$, vers $f'(0)$. Si $x>0$, alors on a \r\n$$f'(x)=\\frac{\\frac{x}{1+x}-x-2\\ln(1+x)+2x}{x^3}.$$\r\nOr, \r\n$$\\frac x{1+x}=x(1-x+x^2+o(x^2))=x-x^2+x^3+o(x^3)$$\r\ntandis que \r\n$$2\\ln(1+x)=2x-x^2+\\frac{2x^3}3+o(x^3).$$\r\nOn en déduit que \r\n$$f'(x)=\\frac 13+o(1)$$\r\net donc que $f'(x)$ tend vers $f'(0)$ si $x$ tend vers $0$ par valeurs supérieures. Donc $f$ est $C^1$ si et seulement si $a=1/3$ et $b=-1/2$.",
    "lang": "french"
}