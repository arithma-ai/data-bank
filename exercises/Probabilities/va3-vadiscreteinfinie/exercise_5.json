{
    "script": "Une rampe verticale de spots nommés de bas en haut $S_1,\\ S_2,\\ S_3,\\ S_4$ change d'état de la manière suivante :à l'instant $t=0$, le spot $S_1$ est allumé.si, à l'instant $t=n,\\ n\\geq 0$, le spot $S_1$ est allumé, alors un (et un seul) des spots $S_1,\\ S_2,\\ S_3,\\ S_4$ s'allume à l'instant $t=n+1$, et ceci de manière équiprobable.si, à l'instant $t=n,\\ n\\geq 0$, le spot $S_k$ ($2\\leq k\\leq 4$) est allumé, le spot $S_{k-1}$ s'allume à l'instant $t=n+1$.On pourra remarquer qu'à chaque instant, un et un seul spot est allumé. On note $X$ la variable aléatoire représentant le premier instant (s'il existe) où le spot $S_2$ s'allume.Écrire une fonction python $\\verb+simulspot()+$ qui simule le fonctionnement de la variable aléatoire $X$.Calculer la probabilité pour que le spot $S_1$ reste constamment allumé jusqu'à l'instant $n$.Calculer la probabilité des événements $(X=1)$ et $(X=2)$.Calculer la probabilité des événements $(X=n)$, pour $n\\geq 3$.Déterminer l'espérance de $X$.",
    "hint": "Utiliser deux variables : une désignant l'instant, et une désignant le spot allumé.Utiliser la formule des probabilités composées.Pour $(X=2)$, il y a plusieurs possibilités : ou bien $S_1$ reste allumé à l'instant $1$, et c'est $S_3$ qui s'allume ensuite, ou bien c'est $S_3$ qui est allumé à l'instant $1$, et nécessairement c'est $S_2$ qui s'allume ensuite.Raisonner par disjonction de cas, en fonction du dernier instant d'allumage de $S_1$.",
    "solution": "On va utiliser deux variables : $t$ qui désigne l'instant où l'on est, et $k$ qui désigne le spot allumé à l'instant courant. Une fonction possible est :def simulspot():t=0k=1while (k!=2):t=t+1if (k==1):k=random.randint(1,4)else:k=k-1return tSi le spot reste constamment allumé jusqu'à l'instant $n$, c'est qu'il y a eu la succession d'événement $A_k$ : \"le spot $S_1$ est éclairé à l'instant $k$\". Par la formule des probabilités composées, on trouve que :\r\n$$P(A_1\\cap\\dots \\cap A_n)=P(A_n|A_1\\cap \\dots \\cap A_{n-1})\\dots P(A_2|A_1) P(A_1)=\\frac{1}{4^n}.$$Clairement(!), on a $P(X=1)=1/4$. D'autre part, $(X=2)$ est réalisé, soit si le spot $S_1$ reste allumé à l'instant 1 et le spot $S_2$ s'allume à l'instant 2, soit si le spot $S_3$ s'allume à l'instant 1 (et $S_2$ s'allumera automatiquement à l'instant 2). Ces deux cas sont disjoints, donc :\r\n$$P(X=2)=\\frac{1}{4}\\times\\frac{1}{4}+\\frac{1}{4}=\\frac{5}{16}.$$Soit $n\\geq 3$. $S_2$ s'allume pour la première fois à l'instant $n$ si et seulement si :Soit $S_1$ reste allumé jusqu'à l'instant $n-1$, et $S_2$ s'allume à l'instant $n$.Soit $S_1$ reste allumé jusqu'à l'instant $n-2$, et $S_3$ s'allume à l'instant $n-1$.Soit $S_1$ reste allumé jusqu'à l'instant $n-3$, et $S_4$ s'allume à l'instant $n-2$.Ces cas étant disjoints, on obtient :\r\n$$\\forall n\\geq 3,\\ P(X=n)=\\frac{1}{4^{n-1}}\\frac{1}{4}+\\frac{1}{4^{n-2}}\\frac{1}{4}+\\frac{1}{4^{n-3}}\\frac{1}{4}=\\frac{21}{4^n}.$$La convergence de la série étant évidente, on obtient :\r\n\\begin{eqnarray*}\r\nE(X)&=&\\sum_{n=1}^\\infty nP(X=n)\\\\\r\n&=&\\frac{1}{4}+\\frac{5}{8}+21\\sum_{n=3}^{+\\infty}\\frac{n}{4^n}.\r\n\\end{eqnarray*}\r\nLa somme de la série se calcule en utilisant $\\sum_{n\\geq 0}x^n=1/(1-x)$ pour $|x|<1$. En dérivant cette égalité, on a \r\n$$\\sum_{n\\geq 1}n x^{n-1}=\\frac 1{(1-x)^2}.$$\r\nOn fait $x=1/4$ et on trouve\r\n$$\\sum_{n=1}^{+\\infty}\\frac{n}{4^n}=\\frac 14\\times \\frac 1{(1-(1/4))^2}=\\frac 49.$$\r\nOn en déduit\r\n$$\\sum_{n=3}^{+\\infty}\\frac{n}{4^n}=\\frac 49-\\frac 14-\\frac 18=\\frac{5}{72}.$$\r\nOn obtient finalement :\r\n$$E(X)=\\frac{7}{3}.$$",
    "lang": "french"
}