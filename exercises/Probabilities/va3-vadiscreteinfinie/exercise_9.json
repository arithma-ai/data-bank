{
    "script": "Une urne contient deux boules blanches et une boule noire. On y effectue une succession de tirages de la façon suivante : on tire une boule ; si elle est noire, on la remet dans l'urne. Si elle est blanche, on remet dans l'urne, à la place de la boule blanche, une boule noire.Pour tout $n\\in\\mathbb N^*,$ on note $Y_n$ la variable aléatoire égale au nombre de boules blanches dans l'urne à l'issue du $n$-ème tirage. Ainsi, $Y_n$ prend ses valeurs dans $\\{0,1,2\\}.$Déterminer la loi de $Y_1$.Pour $n\\in\\mathbb N^*,$ calculer $P(Y_n=2).$On pose, pour $n\\in\\mathbb N^*,$ $u_n=P(Y_n=1)$. Calculer $u_1$ puis\r\ndémontrer que, pour tout $n\\geq 1,$ $u_{n+1}=\\frac 23u_n+\\frac2{3^{n+1}}.$En utilisant la suite $(v_n)$ définie par $v_n=u_n+\\frac2{3^{n+1}}$ pour tout $n\\in\\mathbb N^*,$ donner la valeur de $u_n$ pour tout $n\\in\\mathbb N^*.$En déduire, pour tout $n\\in\\mathbb N^*,$ $P(Y_n=0)$ puis déterminer l'espérance de $Y_n.$On définit la variable aléatoire $Z$ égale à l'instant où, pour la première fois, l'urne ne contient plus que des boules noires. On convient que $Z=0$ si l'urne contient toujours au moins une boule noire. Déterminer la loi de $Z$, puis montrer que $Z$ admet une espérance et la déterminer.",
    "hint": "Utiliser la formule des probabilités composées.Utiliser\r\n$$(Y_{n+1}=1)=\\left((Y_n=1)\\cap N_{n+1}\\right)\\cup\\left((Y_n=2)\\cap R_{n+1}\\right).$$La suite $(v_n)$ est géométrique.Utiliser $(Z=n)=(Y_n=0)\\backslash (Y_{n-1}=0).$",
    "solution": "Dans tous l'exercice, on notera $B_n$ l'événément \"le $n$-ème tirage donne une boule blanche\" et $N_n$ l'événement \"le $n$-ème tirage donne une boule noire\".$Y_1$ est à valeurs dans $\\{1,2\\}.$ De plus, \r\n$$P(Y_1=1)=P(B_1)=\\frac 23\\textrm{ et }P(Y_1=2)=P(N_1)=\\frac13.$$L'événement $(Y_n=2)$ est égal à l'événement $R_1\\cap \\cdots\\cap R_n.$ Par la formule des probabilités composées, \r\n\\begin{align*}\r\nP(Y_n=2)&=P(N_n|N_1\\cap\\cdots\\cap N_{n-1})P(N_{n-1}|N_1\\cap\\cdots\\cap N_{n-2})\\cdots P(N_1)\\\\\r\n&=\\left(\\frac13\\right)^n.\r\n\\end{align*}On a déjà démontré que $u_1=2/3.$ De plus, on a\r\n$$(Y_{n+1}=1)=\\left((Y_n=1)\\cap N_{n+1}\\right)\\cup\\left((Y_n=2)\\cap R_{n+1}\\right).$$\r\nCes événements étant incompatibles, on en déduit que \r\n$$P(Y_{n+1}=1)=P((Y_n=1)\\cap N_{n+1})\\times P((Y_n=2)\\cap R_{n+1}).$$\r\nPar la formule des probabilités composées,\r\n$$P((Y_n=1)\\cap N_{n+1})=P(N_{n+1}|Y_n=1)P(Y_n=1)=\\frac 23u_n$$\r\net \r\n$$P((Y_n=2)\\cap R_{n+1})=P(R_{n+1}|Y_n=2)P(Y_n=2)=\\frac 2{3^{n+1}}.$$\r\nOn obtient bien le résultat demandé.On a, pour $n\\in\\mathbb N^*,$\r\n\\begin{align*}\r\nv_{n+1}&=u_{n+1}+\\frac 2{3^{n+1}}\\\\\r\n&=\\frac 23u_n +\\frac{4}{3^{n+1}}\\\\\r\n&=\\frac 23\\left(u_n+\\frac{2}{3^n}\\right)\\\\\r\n&=\\frac 23 v_n.\r\n\\end{align*}\r\nAinsi, la suite $(v_n)$ est géométrique de raison $2/3.$ De plus, \r\n$$v_1=u_1+\\frac 23=\\frac 43.$$\r\nAinsi, pour $n\\in\\mathbb N^*$, \r\n$$v_n=\\frac 43\\times \\left(\\frac 23\\right)^{n-1}=2\\left(\\frac 23\\right)^{n}$$\r\n$$u_n=2\\left(\\frac 23\\right)^{n}-\\frac 2{3^n}=\\frac{2(2^n-1)}{3^n}.$$Puisque $Y_n$ prend ses valeurs dans $\\{0,1,2\\},$ on a\r\n$$P(Y_n=0)=1-P(Y_n=1)-P(Y_n=2)=\\frac{3^n+1-2^{n+1}}{3^n}.$$\r\nOn a aussi\r\n$$E(Y_n)=0P(Y_n=0)+1P(Y_n=1)+2P(Y_n=2)=2\\left(\\frac 23\\right)^{n}.$$La variable aléatoire $Z$ prend ses valeurs dans $\\mathbb N\\backslash \\{1,2\\}.$ Pour $n\\geq 2$, on a \r\n$$(Z=n)=(Y_n=0)\\backslash (Y_{n-1}=0).$$\r\nPuisque l'événement $Y_{n-1}=0$ est contenu dans l'événement $Y_n=0,$ on a \r\n$$P(Z=n)=P(Y_n=0)-P(Y_{n-1}=0)=\\frac{2^n-2}{3^n}$$\r\n(remarquons que cette formule fonctionne encore pour $n=1$).\r\nReste à déterminer $P(Z=0)$ : par différence,\r\n\\begin{align*}\r\nP(Z=0)&=1-\\sum_{n=2}^{+\\infty}\\frac{2^n-2}{3^n}\\\\\r\n&=1-\\frac{4/9}{1-2/3}+\\frac{2/9}{1-1/3}=0.\r\n\\end{align*}\r\nAinsi, presque sûrement, l'urne ne contient plus que des boules noires après un temps fini.\r\nFinalement, l'espérance de $Z$ est donnée par \r\n\\begin{align*}\r\nE(Z)&=\\sum_{n=1}^{+\\infty}n P(Z=n)\\\\\r\n&=\\sum_{n=1}^{+\\infty}n\\left(\\frac 23\\right)^n-2\\sum_{n=2}^{+\\infty}n\\left(\\frac 13\\right)^n\\\\\r\n&=\\frac{2/3}{(1-2/3)^2}-\\frac{2/3}{(1-1/3)^2}=\\frac 92.\r\n\\end{align*}\r\nRemarquons que le calcul précédent est justifié par le fait que tous les termes sont positifs.",
    "lang": "french"
}