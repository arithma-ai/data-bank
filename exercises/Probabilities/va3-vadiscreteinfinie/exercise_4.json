{
    "script": "Un sauteur tente de franchir des hauteurs successives numérotées $1, 2, \\dots , n, \\dots.$\r\nIl ne peut tenter de passer la hauteur $n + 1$ que s’il a réussi les sauts aux hauteurs $1, 2, \\dots , n.$\r\nOn suppose que le premier saut est toujours réussi et que, en supposant que le sauteur a réussi tous les sauts précédents, la probabilité de succès au $n$-ème saut\r\nest : $p_n = \\frac 1n.$ \r\nPour tout $k\\in\\mathbb N^*,$ on note $S_k$ l’événement : « le sauteur a tenté et réussi son $k$-ème saut » et on note $X$ la variable\r\naléatoire réelle égale au numéro du dernier saut réussi.Écrire une fonction Python $\\verb+simulX()+$ qui simule la variable aléatoire $X$.Déterminer l'ensemble des valeurs prises par la variable aléatoire $X$.Déterminer $P(X=1)$.Justifier que $« X=2 » =S_1\\cap S_2\\cap\\overline{S_3}$. En déduire $P(X=2)$.Démontrer que, pour tout $n\\geq 3$, $P(X=n)=\\frac1{n!}\\left(1-\\frac 1{n+1}\\right).$Démontrer que $X$ admet une espérance, puis calculer cette espérance. On pourra utiliser sans démonstration que $\\displaystyle \\sum_{n=0}^{+\\infty}\\frac 1{n!}=e$.",
    "hint": "S'inspirer de la question suivante.Utiliser la formule des probabilités composées.Idem en raisonnant comme à la question précédente.On pourra écrire $\\frac{n}{(n+1)!}=\\frac{n+1-1}{(n+1)!}.$",
    "solution": "Voici une fonction qui simulera correctement la variable aléatoire $X$. Attention à bien retourner $n-1$, qui est le rang du dernier saut réussi!import randomdef epreuve(n):if (random.random()<1/n):return 1else:return 0def simulX():n=2while (epreuve(n)):n=n+1return n-1$X$ prend ses valeurs dans $\\mathbb N^*$.L'événement  $« X=1 »$ est égal à $S_1\\cap \\overline{S_2}$ : le sauteur a réussi le premier saut et raté le deuxième. D'après la formule des probabilités composées :\r\n$$P(X=1)=P(\\overline{S_2}|S_1)P(S_1)=\\frac 12\\times 1=\\frac 12.$$L'événement  $« X=2 »$ correspond au déroulement suivant : le sauteur réussit les deux premiers sauts et il rate le troisième. D'après la formule des probabilités composées : \r\n$$P(X=2)=P(\\overline{S_3}|S_2)P(S_2|S_1)P(S_1)=\\left(1-\\frac 13\\right)\\times\\frac{1}2\\times 1=\\frac{1}3.$$On suit une démarche similaire. On a \r\n$$ « X=n » = S_1\\cap S_2\\cap\\cdots\\cap S_{n}\\cap \\overline{S_{n+1}}.$$\r\nPar la formule des probabilités composées,\r\n\\begin{align*}\r\nP(X=n)&=P(\\overline{S_n}|S_1\\cap\\cdots\\cap S_n)P(S_n|S_1\\cap\\cdots\\cap S_{n-1})\\cdots P(S_2|S_1)P(S_1)\\\\\r\n&=\\left(1-\\frac 1{n+1}\\right)\\frac{1}n\\times\\frac{1}{n-1}\\times \\cdots\\times \\frac{1}{2}\\times 1\\\\\r\n&=\\left(1-\\frac1{n+1}\\right)\\frac{1}{n!}.\r\n\\end{align*}La formule ci-dessus continue à fonctionner pour $n=1$ et $n=2$. On remarque ensuite que la série de terme général $\\frac{n}{n!}\\left(1-\\frac 1{n+1}\\right)$ converge. En effet, si on pose $u_n=\\frac{n}{n!}\\left(1-\\frac 1{n+1}\\right)$, alors il est facile de vérifier que\r\n$$\\frac{u_{n+1}}{u_n}\\to 0$$\r\nce qui prouve la convergence de la série par la règle de d'Alembert. Ainsi, $X$ admet une espérance. De plus,\r\n\\begin{align*}\r\nE(X)&=\\sum_{n\\geq 1}nP(X=n)\\\\\r\n&=\\sum_{n\\geq 1}\\frac{n}{n!}\\left(1-\\frac 1{n+1}\\right)\\\\\r\n&=\\sum_{n\\geq 1}\\frac{1}{(n-1)!}-\\sum_{n\\geq 1}\\frac{n}{(n+1)!}\\\\\r\n&=e-\\sum_{n\\geq 1}\\frac{n+1-1}{(n+1)!}\\\\\r\n&=e-\\sum_{n\\geq 1}\\frac{1}{n!}+\\sum_{n\\geq 1}\\frac{1}{(n+1)!}\\\\\r\n&=e-(e-1)+(e-2)\\\\\r\n&=e-1.\r\n\\end{align*}",
    "lang": "french"
}