{
    "script": "On se propose de calculer le nombre $S(n,p)$ de surjections de $\\{1,\\dots,n\\}$ sur $\\{1,\\dots,p\\}$, où $(n,p)\\in(\\mathbb N^*)^2$.Des cas particuliers :Calculer $S(n,p)$ pour $p>n$.Calculer $S(n,n)$.Calculer  $S(n,1)$.Calculer $S(n,2)$.Calculer $S(n+1,n)$.Démontrer que, pour tout $n>1$ et tout $p>1$, on a la relation\r\n$$S(n,p)=p\\big(S(n-1,p)+S(n-1,p-1)\\big).$$En déduire un algorithme pour calculer $S(n,p)$.Démontrer que $S(n,p)=\\sum_{k=0}^p (-1)^{p-k}\\binom pk k^n.$",
    "hint": "Un unique élément de l'ensemble d'arrivée doit avoir deux antécédents.On pourra considérer la restriction à $\\{1,\\dots,n-1\\}$ d'une surjection de $\\{1,\\dots,n\\}$ sur $\\{1,\\dots,p\\}$.Procéder par récurrence.",
    "solution": "Si $p>n$, il n'y a pas de surjection de $\\{1,\\dots,n\\}$ sur $\\{1,\\dots,p\\}$. On a donc $S(n,p)=0$.Lorsque $p=n$, les surjections de $\\{1,\\dots,n\\}$ sur $\\{1,\\dots,n\\}$ sont les bijections de $\\{1,\\dots,n\\}$\r\nsur lui-même. Il y en a donc $n!=S(n,n)$.Lorsque $p=1$, toute application de $\\{1,\\dots,n\\}$ dans $\\{1\\}$ est une surjection. Mais il y a une seule application \r\nde $\\{1,\\dots,n\\}$ dans $\\{1\\}$. On a donc $S(n,1)=1$.Lorsque $p=2$, il y a deux applications qui ne sont pas surjectives : celle qui envoie tous les éléments sur $1$ et\r\ncelle qui envoie tous les éléments sur 2. De plus, il y a $2^n$ applications de $\\{1,\\dots,n\\}$ dans $\\{1,2\\}$. \r\nOn en déduit que $S(n,2)=2^n-2$.Lorsque l'on étudie les surjections de $\\{1,\\dots,n+1\\}$ dans $\\{1,\\dots,n\\}$, un unique élément de l'ensemble d'arrivée\r\na deux antécédents, et tous les autres en ont un seul. On peut donc caractériser une surjection par le choix de cet élément et de ses deux antécédents,\r\npuis par une bijection entre les $n-1$ autres éléments. On a donc \r\n$$S(n+1,n)=n\\times\\binom{n+1}2\\times (n-1)!=\\frac{n(n+1)!}2.$$Soit $s$ une surjection de $\\{1,\\dots,n\\}$ sur $\\{1,\\dots,p\\}$. Il y a $p$ façons de choisir la valeur de $s(n)$. Une fois cette valeur choisie, notons $s'$\r\nla restriction de $s$ à $\\{1,\\dots,n-1\\}$. Remarquons que tous les éléments de  $\\{1,\\dots,p\\}\\backslash\\{i\\}$ sont atteints par $s'$. On distingue\r\nalors deux cas :Soit $i$ est atteint par $s'$, et alors $s'$ est une surjection de $\\{1,\\dots,n-1\\}$ sur $\\{1,\\dots,p\\}$. Il y a $S(n-1,p)$ possibilités;Soit $i$ n'est pas atteint par $s'$, et $s'$ est une surjection de $\\{1,\\dots,n-1\\}$ sur $\\{1,\\dots,p\\}\\backslash\\{i\\}$. Il y a $S(n-1,p-1)$ \r\npossibilités.Finalement, on obtient que\r\n$$S(n,p)=p\\big(S(n-1,p)+S(n-1,p-1)\\big).$$On programme la fonction suivante S, d'arguments n et p deux entiers naturels non nuls.Fonction S(n,p)Si p>n, retourner 0.Si p=1, retourner 1.Sinon, retourner p(S(n-1,p-1)+S(n-1,p))Seriez-vous capables de prouver que cet algorithme se termine quelles que soient les entrées $n$ et $p$?On va prouver ce résultat par récurrence sur $n$. Si $n=1$, le résultat est clair si $p=1$; si $p>1$, alors $S(1,p)=0$ qui est bien égal à \r\n$$\\sum_{k=0}^p (-1)^{p-k}\\binom pk k=\\sum_{k=1}^{p}(-1)^{p-k}\\binom pk k=\\sum_{k=1}^p (-1)^{p-k}p\\binom{p-1}{k-1}=-p(1-1)^{p-1}=0$$\r\noù on a utilisé \r\n$$p\\binom {p-1}{k-1}=k\\binom pk.$$\r\nSupposons le résultat prouvé au rang $n-1$, et prouvons-le au rang $n$. Si $p=1$, à nouveau l'égalité est évidente. On peut donc supposer $p>1$ et on écrit\r\n\\begin{eqnarray*}\r\nS(n,p)&=&p\\big(S(n-1,p)+S(n-1,p-1)\\big)\\\\\r\n&=&p\\left(\\sum_{k=0}^{p-1}(-1)^{p-1-k}\\binom{p-1}kk^{n-1}+\\sum_{k=0}^{p}(-1)^{p-k}\\binom pk k^{n-1}\\right)\\\\\r\n&=&p\\left(\\sum_{k=0}^{p-1}(-1)^{p-k}k^{n-1}\\left(\\binom pk-\\binom{p-1}{k}\\right)+k^{n-1}\\right)\\\\\r\n\\end{eqnarray*}\r\nOn utilise maintenant la formule du triangle de Pascal et il vient :\r\n\\begin{eqnarray*}\r\nS(n,p)&=&p\\left(\\sum_{k=0}^{p-1}(-1)^{p-k}k^{n-1}\\binom {p-1}{k-1}+k^{n-1}\\right)\r\n&=&\\sum_{k=0}^{p}(-1)^{p-k}p\\binom {p-1}{k-1}k^{n-1}.\r\n\\end{eqnarray*}\r\nOn obtient le résultat voulu en remarquant à nouveau que \r\n$$p\\binom {p-1}{k-1}=k\\binom pk.$$",
    "lang": "french"
}