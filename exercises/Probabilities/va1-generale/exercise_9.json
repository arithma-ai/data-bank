{
    "script": "Soit $(X_n)_{n\\geq 1}$ une suite de variables aléatoires discrètes à valeurs dans $\\mathbb N,$ définies sur le même espace probabilisé $(\\Omega,\\mathcal T,P),$ de même loi, et soit $N$ une variable aléatoire définie sur $(\\Omega,\\mathcal T,P)$ à valeurs dans $\\mathbb N$. On considère la variable aléatoire $S$ définie sur $\\Omega$ par \r\n$$S(\\omega)=\\sum_{k=1}^{N(\\omega)}X_k(\\omega).$$Montrer que $G_S=G_N\\circ G_{X_1}$ sur $[0,1].$En déduire que si $N$ et $X_1$ sont d'espérance finie, alors $S$ est d'espérance finie et $E(S)=E(N)E(X_1).$",
    "hint": "",
    "solution": "Soit $t\\in[0,1]$. Alors par définition de la fonction génératrice,\r\n$$G_S(t)=\\sum_{k=0}^{+\\infty}P(S=k)t^k.$$\r\nOr, d'après la formule des probabilités totales, \r\nla suite d'événements $(N=n)_{n\\in\\mathbb N}$ formant un système complet d'événements, on a \r\n$$G_S(t)=\\sum_{k=0}^{+\\infty}\\sum_{n=0}^{+\\infty}P(S=k\\cap N=n)t^k.$$\r\nLe terme général étant positif, on peut permuter les sommes et on obtient, en utilisant de plus l'indépendance entre la suite $(X_n)$ et $N$ : \r\n\\begin{align*}\r\nG_S(t)&=\\sum_{n=0}^{+\\infty}\\sum_{k=0}^{+\\infty}P(X_1+\\cdots+X_n=k\\cap N=n)t^k\\\\\r\n&=\\sum_{n=0}^{+\\infty}\\left(\\sum_{k=0}^{+\\infty}P(X_1+\\cdots+X_n=k)t^k\\right)P(N=n).\r\n\\end{align*}\r\nPuisque la fonction génératrice d'une somme de variables aléatoires indépendantes est le produit des fonctions génératrices, et puisque les \r\n$X_n$ ont la même loi, on trouve\r\n$$\\sum_{k=0}^{+\\infty}P(X_1+\\cdots+X_n=k)t^k=(G_{X_1}(t))^n.$$\r\nOn obtient finalement \r\n$$G_S(t)=\\sum_{n=0}^{+\\infty}P(N=n)(G_{X_1}(t))^n = G_N(G_{X_1}(t)).$$Si $N$ et $X_1$ sont d'espérance finie, alors $G_N$ et $G_{X_1}$ sont dérivables en $1.$ Comme $G_{X_1}(1)=1,$ la composée $G_S$ est dérivable en $1$ et\r\n$$G_S'(1)=G_{X_1}'(1)G_N'(G_X(1))=E(X_1)G_N'(1)=E(X_1)E(N).$$\r\nOn en déduit que $S$ admet une espérance donnée par \r\n$$E(S)=E(X_1)E(N).$$",
    "lang": "french"
}