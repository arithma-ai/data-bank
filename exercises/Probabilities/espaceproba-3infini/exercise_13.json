{
    "script": "Une urne contient initialement une boule blanche et une boule noire. On effectue une série de tirages aléatoires\r\nd’une boule jusqu’à obtenir une boule noire. A chaque tirage amenant une boule blanche, on replace la boule blanche puis on multiplie par 2 le nombre de boules blanches présentes dans l’urne après la remise de la boule,\r\npuis on procède au tirage suivant.\r\nL’objectif de l’exercice est d’évaluer la probabilité de ne jamais obtenir de boule noire, et de déterminer en\r\nparticulier si cette probabilité est nulle.Etude algorithmique : Dans cette question, on s'intéresse à l'événement suivant : $E=\"$les dix premiers tirages ont lieu et n'amènent pas de boule noire\".Compléter la fonction Python suivante afin qu'elle simule la réalisation d'une telle expérience, et affiche $1$ si l'événement $E$ a eu lieu, et $0$ sinon.import randomdef experience():etape=....succes=...nbboulesblanches=1while ( (succes...) & (etape....)):if (random.random()....):....else:...etape=etape+1return succesCréer une autre fonction Python qui répète l'expérience $N$ fois et retourne la fréquence de réalisation de l'événement.L'exécution de cet algorithme pour $N=10000$  a donné une fréquence valant 0,2091. Donner un intervalle contenant $P(E)$ avec une probabilité supérieure ou égale à 0.95.Etude pour un nombre fini de tirages. Pour $n\\geq 1$, on note $B_n$ l'événement : \"Les $n$ premiers tirages ont lieu et n'amènent pas de boules noires\". On note $u_n=P(B_n)$.Démontrer, sans chercher à calculer $u_n$, que la suite $(u_n)$ est convergente.Démontrer que $u_n=\\prod_{k=0}^{n-1}\\frac{2^k}{1+2^k}.$Etude à l'infini. On note $B_\\infty$ l'événement : \"l'expérience ne s'arrête jamais\".Démontrer que $P(B_\\infty)=\\lim_{n\\to+\\infty}u_n$.Vérifier que $-\\ln(u_n)=\\sum_{k=0}^{n-1}\\ln(1+2^{-k})$.Démontrer que la série $\\sum_{k\\geq 0}\\ln(1+2^{-k})$ est convergente.En déduire que $P(B_\\infty)>0$.",
    "hint": "",
    "solution": "Voici une possibilité :import randomdef experience():etape=1succes=1nbboulesblanches=1while ( (succes==1) & (etape<=10)):if (random.random()<1/(1+nbboulesblanches)):succes=0else:nbboulesblanches=2*nbboulesblanchesetape=etape+1return succesLa variable etape retient le numéro du tirage effectué. La variable succes vaut 0 tant qu'on n'a pas tiré une boule noire.On appelle $N$ fois la fonction experience par une boucle for, et on comptabilise le nombre de succès.def repet(N):total=0for i in range(N):total=total+experience()return total/NNotons $p$ la probabilité de $E$ et $f$ la fréquence trouvée. On a répété $N$ fois de façon indépendante une même expérience aléatoire avec probabilité $p$ de succès. On a trouvé une fréquence $f$ de réalisation. Un intervalle de confiance au seuil de 5% est donc l'intervalle \r\n$$\\left[f-1,96\\frac{\\sqrt{f(1-f)}}{\\sqrt N},f+1,96\\frac{\\sqrt{f(1-f)}}{\\sqrt N}\\right]\\simeq [0,2011;0.2171].$$On a $B_{n+1}\\subset B_n$ et donc $u_{n+1}\\leq u_n$. La suite $(u_n)$ est donc décroissante. Comme elle est minorée par $0$, elle est convergente.Fixons $k\\geq 1$ et calculons la probabilité $P(B_k|B_1\\cap\\dots\\cap B_{k-1})$. Au $k$-ième tirage, on a $1$ boule noire et $2^{k-1}$ boules blanches (puisqu'on multiplie par deux le nombre de boules blanches à chaque étape). La probabilité de piocher une boule blanche est donc de $2^{k-1}/(1+2^{k-1})$.\r\nOn a donc \r\n$$P(B_k|B_1\\cap\\dots\\cap B_{k-1})=\\frac{2^{k-1}}{1+2^{k-1}}.$$\r\nMaintenant, par la formule des probabilités composées, on a\r\n\\begin{align*}\r\nP(B_n)&=P(B_n|B_{n-1}\\cap B_{n-2}\\cap\\dots\\cap B_1)P(B_{n-1}|B_{n-2}\\cap \\dots\\cap B_1)\\cdots P(B_2|B_1)P(B_1)\\\\\r\n&=\\prod_{k=0}^{n-1}\\frac{2^k}{1+2^k}.\r\n\\end{align*}On a $B_\\infty=\\bigcap_n B_n$. De plus, la suite d'événements $(B_n)$ est décroissante pour l'inclusion. On en déduit que $P(B_\\infty)=\\lim_n P(B_n)=\\lim_{n\\to+\\infty}u_n$.Par les propriétés fonctionnelles du logarithme, \r\n\\begin{eqnarray*}\r\n-\\ln(u_n)&=&\\sum_{k=1}^{n-1}-\\ln\\left(\\frac{2^k}{1+2^k}\\right)\\\\\r\n&=&\\sum_{k=1}^{n-1}\\ln \\left(\\frac{1+2^k}{2^k}\\right)\\\\\r\n&=&\\sum_{k=1}^{n-1}\\ln\\left(1+2^{-k}\\right).\r\n\\end{eqnarray*}La sulte $\\ln(1+2^{-k})$ est toujours positive. On a aussi que\r\n$$\\ln(1+2^{-k})\\sim_{+\\infty}2^{-k}.$$\r\nDe plus, la série $\\sum_k 2^{-k}$ est convergente. Donc par comparaison la série $\\sum_k \\ln(1+2^{-k})$ est convergente.D'après la question précédente, il existe un $\\lambda\\in\\mathbb R$ tel que $\\ln(u_n)$ tend vers $\\lambda$. Par continuité de la fonction exponentielle, $u_n\\to e^\\lambda>0$. Et $P(B_\\infty)=\\lim_n u_n=e^{\\lambda}.$",
    "lang": "french"
}